<div class="search-filter bg-white rounded-lg shadow-md p-6">
  <form [formGroup]="filterForm" (ngSubmit)="onApplyFilters()">
    <!-- Filter Header -->
    <div class="flex items-center justify-between mb-6">
      <h3 class="text-lg font-semibold text-gray-900">Search Filters</h3>
      <div class="flex items-center space-x-2">
        <span *ngIf="getActiveFiltersCount() > 0" class="text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded-full">
          {{ getActiveFiltersCount() }} active
        </span>
        <button 
          type="button"
          (click)="onResetFilters()"
          class="text-sm text-gray-500 hover:text-gray-700"
        >
          Clear All
        </button>
      </div>
    </div>

    <!-- Basic Filters -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
      <!-- Age Range -->
      <div class="space-y-2">
        <label class="block text-sm font-medium text-gray-700">Age Range</label>
        <div class="flex space-x-2">
          <input 
            type="number" 
            formControlName="age_min"
            placeholder="Min"
            class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
          <span class="self-center text-gray-500">-</span>
          <input 
            type="number" 
            formControlName="age_max"
            placeholder="Max"
            class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
        </div>
        <p class="text-xs text-gray-500">{{ getAgeRangeText() }}</p>
      </div>

      <!-- Location -->
      <div class="space-y-2">
        <label class="block text-sm font-medium text-gray-700">Location</label>
        <input 
          type="text" 
          formControlName="location"
          placeholder="City, Country"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
      </div>

      <!-- Religion -->
      <div class="space-y-2">
        <label class="block text-sm font-medium text-gray-700">Religion</label>
        <select 
          formControlName="religion"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="">Any Religion</option>
          <option *ngFor="let religion of religions" [value]="religion">{{ religion }}</option>
        </select>
      </div>

      <!-- Education Level -->
      <div class="space-y-2">
        <label class="block text-sm font-medium text-gray-700">Education</label>
        <select 
          formControlName="education_level"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="">Any Education</option>
          <option *ngFor="let level of educationLevels" [value]="level">{{ level }}</option>
        </select>
      </div>

      <!-- Marital Status -->
      <div class="space-y-2">
        <label class="block text-sm font-medium text-gray-700">Marital Status</label>
        <select 
          formControlName="marital_status"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="">Any Status</option>
          <option *ngFor="let status of maritalStatuses" [value]="status">{{ status }}</option>
        </select>
      </div>

      <!-- Online Status -->
      <div class="space-y-2">
        <label class="block text-sm font-medium text-gray-700">Online Status</label>
        <select 
          formControlName="online_status"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="all">All Users</option>
          <option value="online">Online Now</option>
          <option value="offline">Offline</option>
        </select>
      </div>
    </div>

    <!-- Advanced Filters (Collapsible) -->
    <div *ngIf="showAdvanced" class="border-t border-gray-200 pt-6">
      <h4 class="text-md font-medium text-gray-900 mb-4">Advanced Filters</h4>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
        <!-- Height Range -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Height Range (cm)</label>
          <div class="flex space-x-2">
            <input 
              type="number" 
              formControlName="height_min"
              placeholder="Min"
              class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
            <span class="self-center text-gray-500">-</span>
            <input 
              type="number" 
              formControlName="height_max"
              placeholder="Max"
              class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
          </div>
          <p class="text-xs text-gray-500">{{ getHeightRangeText() }}</p>
        </div>

        <!-- Annual Income -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Annual Income (USD)</label>
          <div class="flex space-x-2">
            <input 
              type="number" 
              formControlName="annual_income_min"
              placeholder="Min"
              class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
            <span class="self-center text-gray-500">-</span>
            <input 
              type="number" 
              formControlName="annual_income_max"
              placeholder="Max"
              class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
          </div>
          <p class="text-xs text-gray-500">{{ getIncomeRangeText() }}</p>
        </div>

        <!-- Diet -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Diet</label>
          <select 
            formControlName="diet"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">Any Diet</option>
            <option *ngFor="let diet of diets" [value]="diet">{{ diet }}</option>
          </select>
        </div>

        <!-- Smoking -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Smoking</label>
          <select 
            formControlName="smoking"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">Any</option>
            <option *ngFor="let habit of smokingHabits" [value]="habit">{{ habit }}</option>
          </select>
        </div>

        <!-- Drinking -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Drinking</label>
          <select 
            formControlName="drinking"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">Any</option>
            <option *ngFor="let habit of drinkingHabits" [value]="habit">{{ habit }}</option>
          </select>
        </div>

        <!-- Family Type -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Family Type</label>
          <select 
            formControlName="family_type"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="">Any</option>
            <option *ngFor="let type of familyTypes" [value]="type">{{ type }}</option>
          </select>
        </div>
      </div>

      <!-- Languages -->
      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-3">Languages Known</label>
        <div class="flex flex-wrap gap-2">
          <button 
            *ngFor="let language of languages"
            type="button"
            (click)="onToggleLanguage(language)"
            class="px-3 py-1 rounded-full text-sm border transition-colors duration-200"
            [class]="isLanguageSelected(language) ? 'bg-blue-500 text-white border-blue-500' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'"
          >
            {{ language }}
          </button>
        </div>
      </div>

      <!-- Checkboxes -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div class="flex items-center">
          <input 
            type="checkbox" 
            formControlName="verified_only"
            id="verified_only"
            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
          >
          <label for="verified_only" class="ml-2 block text-sm text-gray-900">
            Verified profiles only
          </label>
        </div>

        <div class="flex items-center">
          <input 
            type="checkbox" 
            formControlName="photo_required"
            id="photo_required"
            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
          >
          <label for="photo_required" class="ml-2 block text-sm text-gray-900">
            With photos only
          </label>
        </div>

        <div class="flex items-center">
          <input 
            type="checkbox" 
            formControlName="has_children"
            id="has_children"
            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
          >
          <label for="has_children" class="ml-2 block text-sm text-gray-900">
            Has children
          </label>
        </div>

        <div class="flex items-center">
          <input 
            type="checkbox" 
            formControlName="willing_to_relocate"
            id="willing_to_relocate"
            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
          >
          <label for="willing_to_relocate" class="ml-2 block text-sm text-gray-900">
            Willing to relocate
          </label>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200">
      <button 
        type="button"
        (click)="onResetFilters()"
        class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      >
        Reset
      </button>
      <button 
        type="submit"
        class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      >
        Apply Filters
      </button>
    </div>
  </form>
</div> 